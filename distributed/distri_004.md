# SSD的硬件结构(FTL等)

## 读写原理

一块SSD中可以包含多个闪存芯片，每个闪存分为多个块，每个块又分为多个页。

读时，可以读任意的页。

写时，如果对应的页已经被写过，需要对页所在的整个块进行擦除，然后再写。这样还会导致块内不需要修改的页需要被迁移，因此如果写操作导致了块的重新擦除，会增加额外的读、写和擦除时间。

## 擦写导致的寿命(lifetime)问题

典型的页读、 写和擦除的延时约为25微秒、200微秒和1500微秒。典型的擦除次数限于10K到100K之间。

比较便宜的MLC/TLC甚至只有低至几百次的擦除寿命。

## 地址翻译(FTL)

FTL是flash translation layer的缩写，即闪存翻译层。

FTL主要负责将暴露给上层的逻辑块地址，翻译为实际的物理块地址。这样做的一个主要原因就是FTL中的平均磨损逻辑(wear leveling)试图将擦除操作平均分配给所有块，来尽可能长的延长SSD使用寿命。

## Read Disturb

对于一个page读的次数多了，可能对同一个block的其他page造成影响，使其数据0/1发生变化，所以应该记录读的次数，对读的次数多的block进行擦除和重新写入操作。[2]

## 参考
[1] CSAPP

[2] NAND Flash存储器与SSD简介, http://blog.sina.com.cn/s/blog_679f935601011nt1.html

