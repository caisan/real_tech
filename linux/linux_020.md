# 用户态及内核态的同步机制

## Linux 

1 **互斥量**

2 **读写锁**

3 **条件变量**

4 **自旋锁** 在用户空间并不常用，因为并不能保证用了pthread自旋锁不会休眠，当进程时间片到了，就可能会被OS休眠。其实互斥量mutex在userspace更常用，它通常会先自旋一小段时间再休眠，这样其实也是很高效的。 

5 **屏障**

## Kernel

1. 原子操作
1. 自旋锁：有点在于进程阻塞时没有休眠，虽然浪费CPU，但没有进程切换的开销，适合预期阻塞时间短的情况。通常用于底层来实现其他种类的锁。（如RCU）
3. 读写自旋锁：读读不锁，读写和写写之间互斥。
4. 信号量
5. 读写信号量
6. 互斥体
7. 完成变量
8. 大内核锁
9. 顺序锁
10. 禁止抢占
11. 顺序和屏障

12. RCU(read-copy-update)：读写和读读不锁，写写之间互斥。

---

#### 参考

[1] APUE

[2] 《Linux内核设计与实现》读书笔记（十）- 内核同步方法, http://www.cnblogs.com/wang_yb/archive/2013/05/01/3052865.html