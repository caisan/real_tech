# MySQL性能测试

> [mysql状态查看 QPS/TPS/缓存命中率查看](http://www.cnblogs.com/zping/p/5163670.html)

> [MySQL Performance: Improved Connect/sec Rate in MySQL 5.7](http://dimitrik.free.fr/blog/archives/2015/11/mysql-performance-improved-connectsec-rate-in-mysql-57.html)


## sysbench测试OLTP
或者用[[sysbench|tools_003]]


* 注意：

1. 对于默认情况下安装的mysql，如果需要用sysbench测得oltp数据，需要指明用户名、密码（否则默认用sbtest登录，可能不存在这个用户导致无法登陆）和用于测试的数据库（否则sysbench默认的sbtest数据库在mysql并未默认创建）。
```bash
#指定数据库的参数
--mysql-db=[db_name]
#指定用户名和密码的参数, 尽量连写这两个参数，否则可能出现问题
--mysql-user=XXXX --mysql-password=XXXX
#如果不写--mysql-db参数而用默认的sbtest作为测试数据库，应该在mysql终端创建一个sbtest
(mysql) create database sbtest;
```
2. prepare时`sysbench --max-requests=2000 --test=oltp --mysql-user=root --mysql-password=1234 --oltp-table-size=10000000 prepare`就可以成功创建10000000个records，但是`sysbench --max-requests=2000 --test=oltp --mysql-user=root --oltp-table-size=10000000 --mysql-password=1234  prepare`一个record也不会创建，只是创建了table，可能是因为--oltp-table-size选项不可以夹在mysql账号和密码之间。。。

3. 0.4版本是ubuntu apt会安装的版本，但是从0.5开始，sysbench才支持多表测试，需要从github下载源码编译安装。



